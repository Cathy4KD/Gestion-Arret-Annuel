# Configuration de l'environnement - Gestionnaire d'Arrêt d'Aciérie
# Copier ce fichier vers .env et ajuster les valeurs

# ==============================================================================
# SERVEUR
# ==============================================================================

# Environnement (development, production, test)
NODE_ENV=production

# Port d'écoute du serveur
PORT=3000

# Hôte (0.0.0.0 pour écouter sur toutes les interfaces)
HOST=0.0.0.0

# ==============================================================================
# BASE DE DONNÉES
# ==============================================================================

# Chemin vers le fichier de données JSON
DATA_FILE=./server/data/application-data.json

# ==============================================================================
# BACKUPS
# ==============================================================================

# Intervalle entre les backups automatiques (en millisecondes)
# 300000 = 5 minutes
BACKUP_INTERVAL=300000

# Nombre maximum de backups incrémentaux à conserver
MAX_BACKUPS=25

# Nombre de backups quotidiens à conserver (en jours)
DAILY_BACKUPS_TO_KEEP=30

# Activer la compression gzip des backups (true/false)
COMPRESS_BACKUPS=false

# ==============================================================================
# LOGGING
# ==============================================================================

# Niveau de log (error, warn, info, debug)
LOG_LEVEL=info

# Nombre de jours de rétention des logs
LOG_RETENTION_DAYS=30

# ==============================================================================
# UPLOADS
# ==============================================================================

# Taille maximale des fichiers uploadés (en bytes)
# 52428800 = 50 MB
UPLOAD_MAX_SIZE=52428800

# Dossier de stockage des uploads
UPLOAD_DIR=./server/uploads

# Quota maximum par utilisateur (en bytes, 0 = illimité)
# 524288000 = 500 MB
USER_QUOTA=0

# Activer la vérification MIME réelle (true/false)
CHECK_REAL_MIME_TYPE=true

# ==============================================================================
# SÉCURITÉ
# ==============================================================================

# Activer la protection CSRF (true/false)
# Recommandé: false pour usage local, true si exposé sur internet
ENABLE_CSRF=false

# Activer la détection d'attaques (true/false)
ENABLE_ATTACK_DETECTION=true

# Activer la sanitization des entrées (true/false)
ENABLE_SANITIZATION=true

# Clé secrète pour les sessions (générer une valeur aléatoire)
SESSION_SECRET=change-this-to-a-random-secret-key

# ==============================================================================
# RATE LIMITING
# ==============================================================================

# Nombre maximum de requêtes API par IP par fenêtre
API_RATE_LIMIT=100

# Durée de la fenêtre de rate limiting API (en millisecondes)
# 900000 = 15 minutes
API_RATE_WINDOW=900000

# Nombre maximum de requêtes générales par IP par fenêtre
GENERAL_RATE_LIMIT=500

# Durée de la fenêtre de rate limiting général (en millisecondes)
GENERAL_RATE_WINDOW=900000

# Nombre maximum de messages Socket.IO par socket par minute
SOCKET_RATE_LIMIT=100

# ==============================================================================
# EMAIL (si utilisé)
# ==============================================================================

# Service d'email (gmail, outlook, sendgrid, etc.)
EMAIL_SERVICE=gmail

# Adresse email de l'expéditeur
EMAIL_FROM=noreply@example.com

# Nom de l'expéditeur
EMAIL_FROM_NAME=Gestionnaire d'Arrêt

# Hôte SMTP (si service personnalisé)
EMAIL_HOST=smtp.gmail.com

# Port SMTP
EMAIL_PORT=587

# Utiliser TLS (true/false)
EMAIL_SECURE=true

# Nom d'utilisateur SMTP
EMAIL_USER=your-email@gmail.com

# Mot de passe SMTP ou mot de passe d'application
EMAIL_PASSWORD=your-app-password

# ==============================================================================
# SOCKET.IO
# ==============================================================================

# Taille maximale des messages Socket.IO (en bytes)
# 10485760 = 10 MB
SOCKET_MAX_MESSAGE_SIZE=10485760

# Timeout de connexion Socket.IO (en millisecondes)
SOCKET_CONNECT_TIMEOUT=45000

# Activer la compression Socket.IO (true/false)
SOCKET_COMPRESSION=true

# ==============================================================================
# PERFORMANCE
# ==============================================================================

# Activer le throttling des backups (true/false)
THROTTLE_BACKUPS=true

# Intervalle minimum entre les backups throttlés (en millisecondes)
BACKUP_THROTTLE_INTERVAL=300000

# Activer la compression GZIP des réponses HTTP (true/false)
ENABLE_GZIP=true

# Niveau de compression GZIP (0-9, 6 = compromis)
GZIP_LEVEL=6

# Taille minimale pour compression GZIP (en bytes)
GZIP_THRESHOLD=1024

# ==============================================================================
# MONITORING
# ==============================================================================

# Activer le logging détaillé des performances (true/false)
ENABLE_PERFORMANCE_LOGGING=false

# Activer le logging des gros messages Socket.IO (true/false)
LOG_LARGE_MESSAGES=true

# Seuil pour considérer un message comme gros (en bytes)
# 102400 = 100 KB
LARGE_MESSAGE_THRESHOLD=102400

# ==============================================================================
# DÉVELOPPEMENT
# ==============================================================================

# Afficher les stack traces complètes dans les erreurs (true/false)
SHOW_STACK_TRACES=false

# Mode debug (true/false)
DEBUG=false

# Activer le hot reload (true/false)
HOT_RELOAD=false

# ==============================================================================
# NOTES
# ==============================================================================

# - Ne jamais commiter le fichier .env dans Git
# - Utiliser des valeurs sécurisées pour SESSION_SECRET
# - Ajuster les quotas et limites selon vos besoins
# - Pour un usage local uniquement, les valeurs par défaut sont appropriées
# - Pour une exposition sur internet, renforcer la sécurité :
#   * ENABLE_CSRF=true
#   * Réduire les rate limits
#   * Utiliser HTTPS
#   * Configurer un pare-feu
