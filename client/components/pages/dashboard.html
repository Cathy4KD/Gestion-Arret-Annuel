<div id="dashboard" class="page active">
    <div class="dashboard-header">
        <h2 class="dashboard-title">Tableau de Bord</h2>
    </div>

    <!-- Statistiques principales - Compact -->
    <div class="stats-grid">
        <div class="card stat-card-compact">
            <div class="stat-label-compact">Avancement R√©el</div>
            <div class="stat-value-large stat-value-success" id="dashAvancementReel">5%</div>
        </div>
        <div class="card stat-card-compact">
            <div class="stat-label-compact">Avancement Planifi√©</div>
            <div class="stat-value-large stat-value-primary" id="dashAvancementPlanifie">19%</div>
        </div>
        <div class="card stat-card-compact">
            <div class="stat-label-compact">Jours Restants</div>
            <div class="stat-value-large stat-value-purple" id="dashJoursRestants">167</div>
        </div>
        <div class="card stat-card-compact">
            <div class="stat-label-compact">T√¢ches Compl√©t√©es</div>
            <div class="stat-value-large stat-value-info" id="dashTachesCompletees">6/159</div>
        </div>
        <div class="card stat-card-compact">
            <div class="stat-label-compact">Statut Global</div>
            <div class="stat-value-large stat-value-danger" id="dashStatutGlobal">En retard</div>
        </div>
        <div class="card stat-card-compact">
            <div class="stat-label-compact">T√¢ches en Retard</div>
            <div class="stat-value-large stat-value-danger" id="dashTachesRetard">13</div>
        </div>
    </div>

    <!-- T√¢ches Importantes - Compact -->
    <div class="card important-tasks">
        <h3 class="important-tasks-title">T√¢ches Importantes</h3>
        <div class="tasks-grid">
            <!-- En Cours -->
            <div onclick="window.dashboardActions.showTaskDetails('encours')" class="task-card task-card-encours">
                <div class="task-status task-status-warning">‚è≥ En Cours</div>
                <div class="task-title">√âTABLIR DATES ET DUR√âE DE L'ARR√äT</div>
                <div class="task-meta">-26 sem. | CE/SE</div>
                <div class="task-progress">
                    <div class="progress-bar-container">
                        <div class="progress-bar" style="width: 75%;"></div>
                    </div>
                    <div class="progress-text">75%</div>
                </div>
            </div>

            <!-- Prochaine T√¢che -->
            <div onclick="window.dashboardActions.showTaskDetails('prochaine')" class="task-card task-card-prochaine">
                <div class="task-status task-status-primary">‚è≠Ô∏è Prochaine</div>
                <div class="task-title">SCOPE PAR SECTEURS - CONVERTISSEUR</div>
                <div class="task-meta">-24 sem. | PL</div>
                <div class="task-date task-status-primary">üìÖ 14/10/2025</div>
            </div>

            <!-- En Retard -->
            <div onclick="window.dashboardActions.showTaskDetails('retard')" class="task-card task-card-retard">
                <div class="task-status task-status-danger">‚ö†Ô∏è En Retard</div>
                <div class="task-title">√âTABLIR DATES ET DUR√âE DE L'ARR√äT</div>
                <div class="task-meta task-status-danger" style="font-weight: 600; margin-bottom: 4px;">30/09/2025 | CE/SE</div>
                <div class="task-meta task-divider">R√âVISION LISTE TRAVAUX (-24 sem.)</div>
                <div class="task-meta task-status-danger" style="font-weight: 600;">14/10/2025 | PL</div>
            </div>
        </div>
    </div>

    <!-- Filtres et Actions - Compact -->
    <div class="card filters-section">
        <div class="filters-container">
            <span class="filter-label">Filtrer:</span>
            <select id="dashboardFilterResponsable" class="filter-select">
                <option value="all">Tous les responsables</option>
            </select>
            <button onclick="window.dashboardFilters.resetFilters()" class="btn bg-gradient-success text-white btn-compact">R√©initialiser</button>
            <button class="btn bg-gradient-primary text-white btn-compact">Sauvegarder</button>
            <button class="btn bg-gradient-info text-white btn-compact">üìä Excel</button>
        </div>
    </div>

    <!-- Graphiques - Compact Grid -->
    <div class="charts-grid">
        <div class="card chart-card">
            <h3 class="chart-title">Avancement par Phase</h3>
            <div class="chart-container">
                <canvas id="chartAvancementPhase"></canvas>
            </div>
        </div>
        <div class="card chart-card">
            <h3 class="chart-title">Distribution Responsables</h3>
            <div class="chart-container">
                <canvas id="chartResponsables"></canvas>
            </div>
        </div>
        <div class="card chart-card">
            <h3 class="chart-title">Statut des T√¢ches</h3>
            <div class="chart-container">
                <canvas id="chartStatutTaches"></canvas>
            </div>
        </div>
        <div class="card chart-card chart-card-clickable" onclick="window.switchToPage('detail-t72')" title="Cliquez pour acc√©der au Suivi de Co√ªt T72">
            <h3 class="chart-title">üí∞ Suivi du Budget</h3>
            <div class="chart-container">
                <canvas id="chartBudgetTracking"></canvas>
            </div>
        </div>
        <div class="card chart-card">
            <h3 class="chart-title">üìÖ Suivi des R√©unions</h3>
            <div class="chart-container">
                <canvas id="chartReunions"></canvas>
            </div>
        </div>
        <div class="card chart-card">
            <h3 class="chart-title">Statut TPAA / PW</h3>
            <div class="stats-container">
                <!-- TPAA Stats -->
                <div class="stats-section">
                    <h4 class="stats-section-title">üìã TPAA</h4>
                    <div id="tpaa-stats-container" class="stats-grid-2col">
                        <!-- Stats will be rendered here -->
                    </div>
                </div>

                <!-- PW Stats -->
                <div class="stats-section">
                    <h4 class="stats-section-title">üîß PW</h4>
                    <div id="pw-stats-container" class="stats-grid-2col">
                        <!-- Stats will be rendered here -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
