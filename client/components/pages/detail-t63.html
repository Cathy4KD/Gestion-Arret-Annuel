<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>detail-t63</title>
    <!-- Styles seront charg√©s par l'app principale -->
</head>
<body>
<div id="detail-t63" class="page">
            <div class="summary-container" style="max-width: 98%; padding: 20px;">
                <div style="display: flex; align-items: center; margin-bottom: 20px;">
                    <button onclick="switchPage('summary')" style="padding: 10px 20px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-right: 15px;">‚Üê Retour</button>
                    <h2 style="margin: 0; color: #333; flex: 1;">ZONES ENTREPOSAGES & PLAN DE LOCALISATION</h2>
                </div>

                <!-- Section Import de Plan -->
                <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 20px;">
                    <h3 style="color: #667eea; margin-bottom: 15px;">üñºÔ∏è Importer un Plan</h3>
                    <div style="margin-bottom: 15px; display: flex; gap: 10px;">
                        <input type="file" id="zonesPlanUpload" accept="image/*" style="display: none;" onchange="window.zonesPlanEditor.loadPlan(event)">
                        <button onclick="document.getElementById('zonesPlanUpload').click()"
                                style="padding: 10px 20px; background: #4a7c59; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                            üìÇ Charger un Plan
                        </button>
                        <button onclick="window.zonesPlanEditor.clearPlan()"
                                style="padding: 10px 20px; background: #dc3545; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                            üóëÔ∏è Effacer le Plan
                        </button>
                        <button onclick="window.zonesPlanEditor.savePlan()"
                                style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                            üíæ Sauvegarder
                        </button>
                        <button onclick="window.zonesPlanEditor.exportToPDF()"
                                style="padding: 10px 20px; background: #28a745; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                            üìÑ Exporter PDF
                        </button>
                    </div>
                    <p style="color: #666; font-size: 0.9em; margin: 0;">Formats support√©s: JPG, PNG, GIF. Importez un plan puis utilisez les outils ci-dessous pour dessiner des zones.</p>
                </div>

                <!-- Outils de Dessin -->
                <div style="background: white; padding: 15px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 20px;">
                    <h3 style="color: #667eea; margin-bottom: 15px;">üõ†Ô∏è Outils de Dessin</h3>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button onclick="window.zonesPlanEditor.setTool('select')" id="tool-select"
                                style="padding: 8px 16px; background: #667eea; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">
                            ‚úã S√©lectionner
                        </button>
                        <button onclick="window.zonesPlanEditor.setTool('rectangle')" id="tool-rectangle"
                                style="padding: 8px 16px; background: #f0f0f0; color: #333; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">
                            ‚¨ú Rectangle
                        </button>
                        <button onclick="window.zonesPlanEditor.setTool('circle')" id="tool-circle"
                                style="padding: 8px 16px; background: #f0f0f0; color: #333; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">
                            ‚≠ï Cercle
                        </button>
                        <button onclick="window.zonesPlanEditor.setTool('text')" id="tool-text"
                                style="padding: 8px 16px; background: #f0f0f0; color: #333; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">
                            üìù Texte
                        </button>
                        <button onclick="window.zonesPlanEditor.deleteSelected()"
                                style="padding: 8px 16px; background: #dc3545; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">
                            üóëÔ∏è Supprimer S√©lection
                        </button>
                        <div style="display: flex; align-items: center; gap: 8px; margin-left: 20px;">
                            <label style="font-weight: 600; color: #555;">Couleur:</label>
                            <input type="color" id="zone-color" value="#ff0000" onchange="window.zonesPlanEditor.setColor(this.value)"
                                   style="width: 50px; height: 35px; border: none; border-radius: 4px; cursor: pointer;">
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <label style="font-weight: 600; color: #555;">√âpaisseur:</label>
                            <input type="range" id="zone-thickness" min="1" max="10" value="3" onchange="window.zonesPlanEditor.setThickness(this.value)"
                                   style="width: 100px;">
                            <span id="thickness-value" style="font-weight: 600; color: #555;">3</span>
                        </div>
                    </div>
                </div>

                <!-- Canvas de Dessin -->
                <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 20px;">
                    <div style="position: relative; border: 2px solid #dee2e6; border-radius: 8px; overflow: hidden; background: #f8f9fa;">
                        <canvas id="zonesPlanCanvas" width="1200" height="800" style="display: block; cursor: crosshair; max-width: 100%;"></canvas>
                        <div id="canvasPlaceholder" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: #999; pointer-events: none;">
                            <div style="font-size: 3em; margin-bottom: 10px;">üìã</div>
                            <div style="font-size: 1.2em; font-weight: 600;">Aucun plan charg√©</div>
                            <div style="font-size: 0.9em; margin-top: 5px;">Cliquez sur "Charger un Plan" pour commencer</div>
                        </div>
                    </div>
                </div>

                <!-- Liste des Zones Dessin√©es -->
                <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <h3 style="color: #667eea; margin-bottom: 15px;">üìã Zones Dessin√©es (<span id="zonesDrawnCount">0</span>)</h3>
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                                    <th style="padding: 12px; border: 1px solid #dee2e6; text-align: left;">Type</th>
                                    <th style="padding: 12px; border: 1px solid #dee2e6; text-align: left;">Commentaire</th>
                                    <th style="padding: 12px; border: 1px solid #dee2e6; text-align: center;">Couleur</th>
                                    <th style="padding: 12px; border: 1px solid #dee2e6; text-align: center;">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="zonesDrawnTableBody">
                                <tr>
                                    <td colspan="4" style="padding: 30px; text-align: center; color: #666;">
                                        Aucune zone dessin√©e. Utilisez les outils ci-dessus pour dessiner sur le plan.
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
</body>
</html>
